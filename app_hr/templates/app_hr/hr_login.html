{% load static %}
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>เข้าสู่ระบบ HR Portal</title>

  <!-- Google Font: Prompt -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root {
      --brand:#0f766e;
      --brand-soft:#e0f2f1;
      --bg:#f3f4f6;
      --card:#ffffff;
      --border-soft:#e5e7eb;
      --text-main:#111827;
      --text-muted:#6b7280;
    }

    * { box-sizing: border-box; }

    body {
      margin:0;
      min-height:100vh;
      font-family:"Prompt",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background: radial-gradient(circle at top left, #d1fae5, #f3f4f6 48%, #e0f2fe);
      color:var(--text-main);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .login-shell{
      width:100%;
      max-width:380px;
      padding:24px 14px;
    }

    .card-soft{
      background:var(--card);
      border-radius:20px;
      border:1px solid rgba(148,163,184,0.35);
      box-shadow:0 18px 45px rgba(15,23,42,0.16);
      padding:22px 20px 20px;
    }

    .login-title{
      font-weight:700;
      letter-spacing:-0.03em;
      font-size:22px;
      margin:4px 0;
    }

    .login-sub{
      font-size:13px;
      color:var(--text-muted);
      margin-bottom:14px;
    }

    .form-label{
      font-size:12px;
      font-weight:500;
      color:var(--text-main);
    }

    .form-control{
      border-radius:12px;
      border:1px solid var(--border-soft);
      font-size:13px;
      padding:8px 10px;
    }

    .form-control:focus{
      border-color:var(--brand);
      box-shadow:0 0 0 1px rgba(16,185,129,0.3);
    }

    .btn-brand{
      background:var(--brand);
      border-color:var(--brand);
      border-radius:999px;
      font-size:14px;
      font-weight:600;
      padding:8px 14px;
      width:100%;
    }

    .btn-brand:hover{
      background:#0d5f5b;
      border-color:#0d5f5b;
    }

    .helper-text{
      font-size:11px;
      color:var(--text-muted);
      text-align:center;
      margin-top:10px;
    }

    .alert{
      font-size:12px;
      border-radius:12px;
      padding:8px 10px;
    }

    .field-error{
      color:#b91c1c;
      font-size:11px;
      margin-top:2px;
    }
  </style>
</head>
<body>

<div class="login-shell">
  <!-- <div class="mb-2 text-center">
    {# ถ้าอยากใช้ badge ด้านบนค่อยเปิดส่วนนี้ #}
    {# 
    <div class="brand-badge">
      <span class="brand-icon"><i class="bi bi-building"></i></span>
      HRManage Portal
    </div>
    #}
  </div> -->

  <div class="card-soft">
    <div class="text-center mb-3">
      <div class="login-title">เข้าสู่ระบบ HRManage</div>
      <div class="login-sub">
        ลงชื่อเข้าใช้ด้วยบัญชีผู้ใช้ที่ได้รับสิทธิ์ HR / ผู้บริหาร
      </div>
    </div>

    {# error รวมจาก AuthenticationForm (เช่น ชื่อผู้ใช้/รหัสผ่านผิด) #}
    {% if form.non_field_errors %}
      <div class="alert alert-danger mb-2">
        {% for err in form.non_field_errors %}
          {{ err }}<br>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" novalidate>
      {% csrf_token %}

      <div class="mb-2">
        <label class="form-label">ชื่อผู้ใช้</label>
        <input type="text"
               name="username"
               autofocus
               required
               class="form-control"
               value="{{ form.data.username|default:'' }}">
        {% if form.errors.username %}
          <div class="field-error">
            {{ form.errors.username.as_text|cut:"* " }}
          </div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label class="form-label">รหัสผ่าน</label>
        <input type="password"
               name="password"
               required
               class="form-control">
        {% if form.errors.password %}
          <div class="field-error">
            {{ form.errors.password.as_text|cut:"* " }}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-brand">
        <i class="bi bi-box-arrow-in-right me-1"></i> เข้าสู่ระบบ
      </button>
    </form>

    <div class="helper-text">
      ถ้าเข้าสู่ระบบไม่ได้ กรุณาติดต่อผู้ดูแลระบบ
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
